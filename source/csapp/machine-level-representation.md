# 机器层面的结构

被二进制程序使用的内存地址是虚拟地址，内存系统的实际实现包括多个硬件内存和操作系统的软件管理。**程序内存是使用虚拟地址寻址的。**

操作系统管理虚拟地址空间，将虚拟内存转译到处理器中实际的内存物理地址

## 寄存器分类

| 寄存器                        | 功能                                            | 说明                      |
| -------------------------- | --------------------------------------------- | ----------------------- |
| 程序计数器                      | 存储下一条将要执行的指令在内存中的地址                           | `%rip/x86_64`           |
| `Integer Register file`    | 整数寄存器，存储整数值                                   | 例如x86架构中的EAX、EBX等通用寄存器  |
| `Condition code registers` | 条件码寄存器用于存储标志变量<br>反映上一条指令的执行结果,如是否产生进位、是否为零等。 | 用于条件分支指令的判断             |
| `Vector registers`         | 用于进行SIMD(单指令多数据)计算的寄存器,可以一次存储多个值。             | 例如x86架构中的MMX/SSE/AVX寄存器 |

程序栈（program stack），计算机程序中的一种数据结构，用于跟踪程序的函数调用和返回。线性的数据结构，后进先出。

1. 函数调用信息

2. 局部变量

3. 函数返回地址

4. 上下文信息

## 附录

编译命令

```shell
gcc -Og -S 01.c 
```

1. `-Og` 优化级别为 O1，执行优化但是不增加代码大小，`g` 添加调试信息

2. `-S` 将源代码编译成汇编代码，但是不进行链接

反汇编

```shell
objdump -d xxx.o
```
